# üìò –ü–æ–∫—Ä–æ–∫–æ–≤–∞ —ñ–Ω—Å—Ç—Ä—É–∫—Ü—ñ—è –¥–ª—è –¥–µ–ø–ª–æ—é –Ω–∞ Azure

–¶–µ–π –¥–æ–∫—É–º–µ–Ω—Ç –º—ñ—Å—Ç–∏—Ç—å –¥–µ—Ç–∞–ª—å–Ω—É —ñ–Ω—Å—Ç—Ä—É–∫—Ü—ñ—é –¥–ª—è —Ä–æ–∑–≥–æ—Ä—Ç–∞–Ω–Ω—è Flask –¥–æ–¥–∞—Ç–∫—É –Ω–∞ Microsoft Azure.

## üìã –ó–º—ñ—Å—Ç

1. [–ü–µ—Ä–µ–¥—É–º–æ–≤–∏](#–ø–µ—Ä–µ–¥—É–º–æ–≤–∏)
2. [–ö—Ä–æ–∫ 1: –°—Ç–≤–æ—Ä–µ–Ω–Ω—è Azure MySQL Database](#–∫—Ä–æ–∫-1-—Å—Ç–≤–æ—Ä–µ–Ω–Ω—è-azure-mysql-database)
3. [–ö—Ä–æ–∫ 2: –°—Ç–≤–æ—Ä–µ–Ω–Ω—è Azure Web App](#–∫—Ä–æ–∫-2-—Å—Ç–≤–æ—Ä–µ–Ω–Ω—è-azure-web-app)
4. [–ö—Ä–æ–∫ 3: –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –∑–º—ñ–Ω–Ω–∏—Ö —Å–µ—Ä–µ–¥–æ–≤–∏—â–∞](#–∫—Ä–æ–∫-3-–Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è-–∑–º—ñ–Ω–Ω–∏—Ö-—Å–µ—Ä–µ–¥–æ–≤–∏—â–∞)
5. [–ö—Ä–æ–∫ 4: –î–µ–ø–ª–æ–π –∫–æ–¥—É](#–∫—Ä–æ–∫-4-–¥–µ–ø–ª–æ–π-–∫–æ–¥—É)
6. [–ö—Ä–æ–∫ 5: –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –ø—Ä–∞—Ü–µ–∑–¥–∞—Ç–Ω–æ—Å—Ç—ñ](#–∫—Ä–æ–∫-5-–ø–µ—Ä–µ–≤—ñ—Ä–∫–∞-–ø—Ä–∞—Ü–µ–∑–¥–∞—Ç–Ω–æ—Å—Ç—ñ)
7. [–î–æ–¥–∞—Ç–∫–æ–≤—ñ –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è](#–¥–æ–¥–∞—Ç–∫–æ–≤—ñ-–Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è)

---

## –ü–µ—Ä–µ–¥—É–º–æ–≤–∏

–ü–µ—Ä–µ–¥ –ø–æ—á–∞—Ç–∫–æ–º –ø–µ—Ä–µ–∫–æ–Ω–∞–π—Ç–µ—Å—è, —â–æ —É –≤–∞—Å —î:

- ‚úÖ –ê–∫–∞—É–Ω—Ç Microsoft Azure (–±–µ–∑–∫–æ—à—Ç–æ–≤–Ω–∞ –ø—ñ–¥–ø–∏—Å–∫–∞ –¥–æ—Å—Ç—É–ø–Ω–∞ –∑–∞ –ø–æ—Å–∏–ª–∞–Ω–Ω—è–º: https://azure.microsoft.com/free/)
- ‚úÖ –í—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–π Azure CLI (https://docs.microsoft.com/cli/azure/install-azure-cli)
- ‚úÖ –í—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–π Git
- ‚úÖ Python 3.8 –∞–±–æ –≤–∏—â–µ
- ‚úÖ –ö–æ–¥ –ø—Ä–æ–µ–∫—Ç—É –Ω–∞ GitHub

---

## –ö—Ä–æ–∫ 1: –°—Ç–≤–æ—Ä–µ–Ω–Ω—è Azure MySQL Database

### 1.1. –í—Ö—ñ–¥ –≤ Azure Portal

1. –ü–µ—Ä–µ–π–¥—ñ—Ç—å –Ω–∞ https://portal.azure.com
2. –£–≤—ñ–π–¥—ñ—Ç—å –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é –æ–±–ª—ñ–∫–æ–≤–æ–≥–æ –∑–∞–ø–∏—Å—É Microsoft

### 1.2. –°—Ç–≤–æ—Ä–µ–Ω–Ω—è MySQL —Å–µ—Ä–≤–µ—Ä–∞

1. –í Azure Portal –Ω–∞—Ç–∏—Å–Ω—ñ—Ç—å **"Create a resource"**
2. –ó–Ω–∞–π–¥—ñ—Ç—å **"Azure Database for MySQL Flexible Server"**
3. –ù–∞—Ç–∏—Å–Ω—ñ—Ç—å **"Create"**

### 1.3. –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è —Å–µ—Ä–≤–µ—Ä–∞

**–í–∫–ª–∞–¥–∫–∞ Basics:**

- **Subscription**: –û–±–µ—Ä—ñ—Ç—å –≤–∞—à—É –ø—ñ–¥–ø–∏—Å–∫—É
- **Resource Group**: –°—Ç–≤–æ—Ä—ñ—Ç—å –Ω–æ–≤—É –≥—Ä—É–ø—É —Ä–µ—Å—É—Ä—Å—ñ–≤ –∞–±–æ –æ–±–µ—Ä—ñ—Ç—å —ñ—Å–Ω—É—é—á—É (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, `myapp-rg`)
- **Server name**: –í–≤–µ–¥—ñ—Ç—å —É–Ω—ñ–∫–∞–ª—å–Ω–µ —ñ–º'—è (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, `myapp-mysql-server`)
- **Region**: –û–±–µ—Ä—ñ—Ç—å –Ω–∞–π–±–ª–∏–∂—á–∏–π —Ä–µ–≥—ñ–æ–Ω (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, `West Europe`)
- **MySQL version**: 8.0 (—Ä–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–Ω–æ)
- **Compute + Storage**: –û–±–µ—Ä—ñ—Ç—å **Burstable, B1ms** (–Ω–∞–π–¥–µ—à–µ–≤—à–∏–π –≤–∞—Ä—ñ–∞–Ω—Ç –¥–ª—è —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è)
- **Admin username**: –í–≤–µ–¥—ñ—Ç—å —ñ–º'—è –∞–¥–º—ñ–Ω—ñ—Å—Ç—Ä–∞—Ç–æ—Ä–∞ (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, `dbadmin`)
- **Password**: –°—Ç–≤–æ—Ä—ñ—Ç—å –Ω–∞–¥—ñ–π–Ω–∏–π –ø–∞—Ä–æ–ª—å (–∑–±–µ—Ä–µ–∂—ñ—Ç—å –π–æ–≥–æ!)

**–í–∫–ª–∞–¥–∫–∞ Networking:**

- **Connectivity method**: Public access
- **Firewall rules**:
  - –î–æ–¥–∞–π—Ç–µ –ø—Ä–∞–≤–∏–ª–æ: **Allow public access from any Azure service within Azure** (–≤—Å—Ç–∞–Ω–æ–≤—ñ—Ç—å –ø—Ä–∞–ø–æ—Ä–µ—Ü—å)
  - –î–æ–¥–∞–π—Ç–µ –ø—Ä–∞–≤–∏–ª–æ –¥–ª—è –≤–∞—à–æ–≥–æ –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ IP (–¥–ª—è —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è): –Ω–∞—Ç–∏—Å–Ω—ñ—Ç—å "Add current client IP address"

**–í–∫–ª–∞–¥–∫–∞ Security:**

- –ó–∞–ª–∏—à—ñ—Ç—å –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –∑–∞ –∑–∞–º–æ–≤—á—É–≤–∞–Ω–Ω—è–º

4. –ù–∞—Ç–∏—Å–Ω—ñ—Ç—å **"Review + create"**, –ø–æ—Ç—ñ–º **"Create"**
5. –ó–∞—á–µ–∫–∞–π—Ç–µ 5-10 —Ö–≤–∏–ª–∏–Ω –¥–æ –∑–∞–≤–µ—Ä—à–µ–Ω–Ω—è —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è

### 1.4. –°—Ç–≤–æ—Ä–µ–Ω–Ω—è –±–∞–∑–∏ –¥–∞–Ω–∏—Ö

1. –ü—ñ—Å–ª—è —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è —Å–µ—Ä–≤–µ—Ä–∞ –ø–µ—Ä–µ–π–¥—ñ—Ç—å –¥–æ –Ω—å–æ–≥–æ
2. –í –ª—ñ–≤–æ–º—É –º–µ–Ω—é –æ–±–µ—Ä—ñ—Ç—å **"Databases"**
3. –ù–∞—Ç–∏—Å–Ω—ñ—Ç—å **"+ Add"**
4. –í–≤–µ–¥—ñ—Ç—å —ñ–º'—è –±–∞–∑–∏ –¥–∞–Ω–∏—Ö (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, `database_lab1_eer`)
5. –û–±–µ—Ä—ñ—Ç—å **Charset**: `utf8mb4`
6. –û–±–µ—Ä—ñ—Ç—å **Collation**: `utf8mb4_general_ci`
7. –ù–∞—Ç–∏—Å–Ω—ñ—Ç—å **"Save"**

### 1.5. –ó–±–µ—Ä–µ–∂—ñ—Ç—å –ø–∞—Ä–∞–º–µ—Ç—Ä–∏ –ø—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è

–ó–∞–ø–∏—à—ñ—Ç—å –Ω–∞—Å—Ç—É–ø–Ω—É —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—é (–∑–Ω–∞–¥–æ–±–∏—Ç—å—Å—è –ø—ñ–∑–Ω—ñ—à–µ):

```
DB_HOST: myapp-mysql-server.mysql.database.azure.com
DB_USER: dbadmin
DB_PASSWORD: –≤–∞—à_–ø–∞—Ä–æ–ª—å
DB_NAME: database_lab1_eer
```

---

## –ö—Ä–æ–∫ 2: –°—Ç–≤–æ—Ä–µ–Ω–Ω—è Azure Web App

### 2.1. –°—Ç–≤–æ—Ä–µ–Ω–Ω—è Web App

1. –í Azure Portal –Ω–∞—Ç–∏—Å–Ω—ñ—Ç—å **"Create a resource"**
2. –ó–Ω–∞–π–¥—ñ—Ç—å **"Web App"**
3. –ù–∞—Ç–∏—Å–Ω—ñ—Ç—å **"Create"**

### 2.2. –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è Web App

**–í–∫–ª–∞–¥–∫–∞ Basics:**

- **Subscription**: –û–±–µ—Ä—ñ—Ç—å –≤–∞—à—É –ø—ñ–¥–ø–∏—Å–∫—É
- **Resource Group**: –û–±–µ—Ä—ñ—Ç—å —Ç—É —Å–∞–º—É, —â–æ –π –¥–ª—è MySQL
- **Name**: –£–Ω—ñ–∫–∞–ª—å–Ω–µ —ñ–º'—è –¥–ª—è –¥–æ–¥–∞—Ç–∫—É (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, `myapp-flask-api`)
- **Publish**: Code
- **Runtime stack**: Python 3.11
- **Operating System**: Linux
- **Region**: –¢–æ–π —Å–∞–º–∏–π, —â–æ –π MySQL —Å–µ—Ä–≤–µ—Ä
- **App Service Plan**: –°—Ç–≤–æ—Ä—ñ—Ç—å –Ω–æ–≤–∏–π –∞–±–æ –æ–±–µ—Ä—ñ—Ç—å —ñ—Å–Ω—É—é—á–∏–π
  - **Pricing Plan**: –û–±–µ—Ä—ñ—Ç—å **Free F1** –∞–±–æ **Basic B1** (–¥–ª—è —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è)

**–í–∫–ª–∞–¥–∫–∞ Deployment:**

- **GitHub Actions settings**: –£–≤—ñ–º–∫–Ω—ñ—Ç—å (Enable)
- **GitHub account**: –ê–≤—Ç–æ—Ä–∏–∑—É–π—Ç–µ GitHub
- **Organization**: –í–∞—à GitHub –∞–∫–∫–∞—É–Ω—Ç
- **Repository**: –û–±–µ—Ä—ñ—Ç—å —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ–π –∑ –≤–∞—à–∏–º –ø—Ä–æ–µ–∫—Ç–æ–º
- **Branch**: main (–∞–±–æ master)

**–í–∫–ª–∞–¥–∫–∞ Monitoring:**

- **Enable Application Insights**: Yes (—Ä–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–Ω–æ –¥–ª—è –º–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥—É)

3. –ù–∞—Ç–∏—Å–Ω—ñ—Ç—å **"Review + create"**, –ø–æ—Ç—ñ–º **"Create"**

---

## –ö—Ä–æ–∫ 3: –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –∑–º—ñ–Ω–Ω–∏—Ö —Å–µ—Ä–µ–¥–æ–≤–∏—â–∞

### 3.1. –î–æ–¥–∞–≤–∞–Ω–Ω—è –∑–º—ñ–Ω–Ω–∏—Ö

1. –ü–µ—Ä–µ–π–¥—ñ—Ç—å –¥–æ –≤–∞—à–æ–≥–æ Web App –≤ Azure Portal
2. –í –ª—ñ–≤–æ–º—É –º–µ–Ω—é –æ–±–µ—Ä—ñ—Ç—å **"Configuration"** ‚Üí **"Application settings"**
3. –ù–∞—Ç–∏—Å–Ω—ñ—Ç—å **"+ New application setting"** —Ç–∞ –¥–æ–¥–∞–π—Ç–µ –Ω–∞—Å—Ç—É–ø–Ω—ñ –∑–º—ñ–Ω–Ω—ñ:

```
DB_USER = dbadmin
DB_PASSWORD = –≤–∞—à_mysql_–ø–∞—Ä–æ–ª—å
DB_HOST = myapp-mysql-server.mysql.database.azure.com
DB_NAME = database_lab1_eer
FLASK_ENV = production
SECRET_KEY = –∑–≥–µ–Ω–µ—Ä—É–π—Ç–µ_–≤–∏–ø–∞–¥–∫–æ–≤–∏–π_–∫–ª—é—á
```

### 3.2. –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è startup command

1. –í —Ä–æ–∑–¥—ñ–ª—ñ **"Configuration"** ‚Üí **"General settings"**
2. –í –ø–æ–ª—ñ **"Startup Command"** –≤–≤–µ–¥—ñ—Ç—å:

```bash
gunicorn --bind=0.0.0.0:8000 --timeout 600 app:app
```

3. –ù–∞—Ç–∏—Å–Ω—ñ—Ç—å **"Save"** —ñ –ø—ñ–¥—Ç–≤–µ—Ä–¥—ñ—Ç—å –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫

---

## –ö—Ä–æ–∫ 4: –î–µ–ø–ª–æ–π –∫–æ–¥—É

### –ú–µ—Ç–æ–¥ 1: GitHub Actions (–ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–∏–π - –†–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–Ω–æ)

–Ø–∫—â–æ –≤–∏ —É–≤—ñ–º–∫–Ω—É–ª–∏ GitHub Actions –ø—ñ–¥ —á–∞—Å —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è Web App, Azure –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ —Å—Ç–≤–æ—Ä–∏–≤ workflow —Ñ–∞–π–ª —É –≤–∞—à–æ–º—É —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ—ó.

1. –í–Ω–µ—Å—ñ—Ç—å –∑–º—ñ–Ω–∏ –≤ –∫–æ–¥ —Ç–∞ –∑—Ä–æ–±—ñ—Ç—å commit
2. Push –∑–º—ñ–Ω –≤ GitHub:

```bash
git add .
git commit -m "–ü—ñ–¥–≥–æ—Ç–æ–≤–∫–∞ –¥–æ Azure –¥–µ–ø–ª–æ—é"
git push origin main
```

3. –ü–µ—Ä–µ–π–¥—ñ—Ç—å –Ω–∞ GitHub ‚Üí –≤–∞—à —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ–π ‚Üí –≤–∫–ª–∞–¥–∫–∞ **"Actions"**
4. –°–ª—ñ–¥–∫—É–π—Ç–µ –∑–∞ –ø—Ä–æ—Ü–µ—Å–æ–º –¥–µ–ø–ª–æ—é
5. –ü—ñ—Å–ª—è –∑–∞–≤–µ—Ä—à–µ–Ω–Ω—è –≤–∞—à –¥–æ–¥–∞—Ç–æ–∫ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –æ–Ω–æ–≤–∏—Ç—å—Å—è

### –ú–µ—Ç–æ–¥ 2: Azure CLI (–†—É—á–Ω–∏–π)

```bash
# –£–≤—ñ–π–¥—ñ—Ç—å –≤ Azure
az login

# –í—Å—Ç–∞–Ω–æ–≤—ñ—Ç—å –∞–∫—Ç–∏–≤–Ω—É –ø—ñ–¥–ø–∏—Å–∫—É
az account set --subscription "–Ω–∞–∑–≤–∞_–≤–∞—à–æ—ó_–ø—ñ–¥–ø–∏—Å–∫–∏"

# –î–µ–ø–ª–æ–π –∑ –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ—é
az webapp up --name myapp-flask-api --resource-group myapp-rg --runtime "PYTHON:3.11"
```

### –ú–µ—Ç–æ–¥ 3: Git Deploy (–õ–æ–∫–∞–ª—å–Ω–∏–π Git)

1. –í Azure Portal ‚Üí –≤–∞—à Web App ‚Üí **"Deployment Center"**
2. –û–±–µ—Ä—ñ—Ç—å **"Local Git"** —è–∫ –¥–∂–µ—Ä–µ–ª–æ
3. –ù–∞—Ç–∏—Å–Ω—ñ—Ç—å **"Save"** —ñ —Å–∫–æ–ø—ñ—é–π—Ç–µ Git URL
4. –ù–∞ –≤–∞—à–æ–º—É –ª–æ–∫–∞–ª—å–Ω–æ–º—É –∫–æ–º–ø'—é—Ç–µ—Ä—ñ:

```bash
# –î–æ–¥–∞–π—Ç–µ Azure remote
git remote add azure <—Å–∫–æ–ø—ñ–π–æ–≤–∞–Ω–∏–π_git_url>

# Push –∫–æ–¥ –Ω–∞ Azure
git push azure main
```

---

## –ö—Ä–æ–∫ 5: –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –ø—Ä–∞—Ü–µ–∑–¥–∞—Ç–Ω–æ—Å—Ç—ñ

### 5.1. –Ü–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–∞—Ü—ñ—è –±–∞–∑–∏ –¥–∞–Ω–∏—Ö

–Ø–∫—â–æ —É –≤–∞—à–æ–º—É –ø—Ä–æ–µ–∫—Ç—ñ —î —Å–∫—Ä–∏–ø—Ç —ñ–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–∞—Ü—ñ—ó –ë–î, –≤–∏–∫–æ–Ω–∞–π—Ç–µ –π–æ–≥–æ:

1. –ü–µ—Ä–µ–π–¥—ñ—Ç—å –¥–æ Web App ‚Üí **"SSH"** –∞–±–æ **"Advanced Tools"** ‚Üí **"Go"**
2. –í—ñ–¥–∫—Ä–∏–π—Ç–µ –∫–æ–Ω—Å–æ–ª—å
3. –í–∏–∫–æ–Ω–∞–π—Ç–µ –∫–æ–º–∞–Ω–¥–∏:

```bash
cd /home/site/wwwroot
python my_project/db_init.py
```

### 5.2. –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ Swagger –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—ó

1. –í—ñ–¥–∫—Ä–∏–π—Ç–µ –±—Ä–∞—É–∑–µ—Ä
2. –ü–µ—Ä–µ–π–¥—ñ—Ç—å –Ω–∞: `https://myapp-flask-api.azurewebsites.net/api/docs/`
3. –í–∏ –ø–æ–±–∞—á–∏—Ç–µ —ñ–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—É Swagger –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—é –∑ —É—Å—ñ–º–∞ API endpoints

### 5.3. –¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è API endpoints

–í Swagger UI —Å–ø—Ä–æ–±—É–π—Ç–µ –≤–∏–∫–æ–Ω–∞—Ç–∏ –∑–∞–ø–∏—Ç–∏:

**GET /users**

- –ö–ª–∞—Ü–Ω—ñ—Ç—å –Ω–∞ endpoint
- –ù–∞—Ç–∏—Å–Ω—ñ—Ç—å **"Try it out"**
- –ù–∞—Ç–∏—Å–Ω—ñ—Ç—å **"Execute"**
- –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ –≤—ñ–¥–ø–æ–≤—ñ–¥—å

**POST /users** (—Å—Ç–≤–æ—Ä–∏—Ç–∏ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞)

```json
{
  "name": "–¢–µ—Å—Ç–æ–≤–∏–π –ö–æ—Ä–∏—Å—Ç—É–≤–∞—á",
  "email": "test@example.com"
}
```

**GET /categories** - –æ—Ç—Ä–∏–º–∞—Ç–∏ –≤—Å—ñ –∫–∞—Ç–µ–≥–æ—Ä—ñ—ó

**GET /properties** - –æ—Ç—Ä–∏–º–∞—Ç–∏ –≤—Å—ñ –≤–ª–∞—Å—Ç–∏–≤–æ—Å—Ç—ñ

### 5.4. –¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è –∑ –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ –ü–ö —á–µ—Ä–µ–∑ Postman –∞–±–æ curl

```bash
# GET –∑–∞–ø–∏—Ç
curl https://myapp-flask-api.azurewebsites.net/users

# POST –∑–∞–ø–∏—Ç
curl -X POST https://myapp-flask-api.azurewebsites.net/users \
  -H "Content-Type: application/json" \
  -d '{"name":"–Ü–≤–∞–Ω –ü–µ—Ç—Ä–µ–Ω–∫–æ","email":"ivan@example.com"}'
```

---

## –î–æ–¥–∞—Ç–∫–æ–≤—ñ –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è

### –ú–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥ –ª–æ–≥—ñ–≤

1. Azure Portal ‚Üí –≤–∞—à Web App ‚Üí **"Log stream"**
2. –ü–µ—Ä–µ–≥–ª—è–¥–∞–π—Ç–µ –ª–æ–≥–∏ –≤ —Ä–µ–∞–ª—å–Ω–æ–º—É —á–∞—Å—ñ

–ê–±–æ —á–µ—Ä–µ–∑ Azure CLI:

```bash
az webapp log tail --name myapp-flask-api --resource-group myapp-rg
```

### –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è custom domain

1. Web App ‚Üí **"Custom domains"**
2. –î–æ–¥–∞–π—Ç–µ –≤–∞—à –¥–æ–º–µ–Ω
3. –ù–∞–ª–∞—à—Ç—É–π—Ç–µ SSL —Å–µ—Ä—Ç–∏—Ñ—ñ–∫–∞—Ç

### –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–µ –º–∞—Å—à—Ç–∞–±—É–≤–∞–Ω–Ω—è

1. Web App ‚Üí **"Scale up (App Service plan)"**
2. –û–±–µ—Ä—ñ—Ç—å –≤–∏—â–∏–π —Ç–∞—Ä–∏—Ñ–Ω–∏–π –ø–ª–∞–Ω
3. Web App ‚Üí **"Scale out (App Service plan)"**
4. –ù–∞–ª–∞—à—Ç—É–π—Ç–µ –ø—Ä–∞–≤–∏–ª–∞ –∞–≤—Ç–æ–º–∞—Å—à—Ç–∞–±—É–≤–∞–Ω–Ω—è

### Backup –±–∞–∑–∏ –¥–∞–Ω–∏—Ö

1. MySQL Server ‚Üí **"Backups"**
2. Azure –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ —Å—Ç–≤–æ—Ä—é—î backup
3. –ú–æ–∂–Ω–∞ –≤—ñ–¥–Ω–æ–≤–∏—Ç–∏ –Ω–∞ –±—É–¥—å-—è–∫—É —Ç–æ—á–∫—É —á–∞—Å—É

---

## üîç –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –¥–ª—è –∑–¥–∞—á—ñ –ª–∞–±–æ—Ä–∞—Ç–æ—Ä–Ω–æ—ó

**–ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ –Ω–∞—Å—Ç—É–ø–Ω–µ:**

‚úÖ **–ö–æ–¥ –Ω–∞ GitHub:**

- –†–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ–π –ø—É–±–ª—ñ—á–Ω–∏–π –∞–±–æ –≤–∏–∫–ª–∞–¥–∞—á –º–∞—î –¥–æ—Å—Ç—É–ø
- –í—Å—ñ —Ñ–∞–π–ª–∏ –∑–∞–∫–æ–º—ñ—á–µ–Ω—ñ
- README.md –æ–Ω–æ–≤–ª–µ–Ω–∏–π

‚úÖ **Azure MySQL:**

- –ë–∞–∑–∞ –¥–∞–Ω–∏—Ö —Å—Ç–≤–æ—Ä–µ–Ω–∞ —ñ –ø—Ä–∞—Ü—é—î
- –¢–∞–±–ª–∏—Ü—ñ —ñ–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–æ–≤–∞–Ω—ñ
- –ó'—î–¥–Ω–∞–Ω–Ω—è –Ω–∞–ª–∞—à—Ç–æ–≤–∞–Ω–µ

‚úÖ **Azure Web App:**

- –î–æ–¥–∞—Ç–æ–∫ –∑–∞–ø—É—â–µ–Ω–∏–π
- Swagger –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è –¥–æ—Å—Ç—É–ø–Ω–∞
- URL –ø—Ä–∞—Ü—é—î: `https://–≤–∞—à-–¥–æ–¥–∞—Ç–æ–∫.azurewebsites.net/api/docs/`

‚úÖ **REST API –ø—Ä–∞—Ü—é—î:**

- GET /users –ø–æ–≤–µ—Ä—Ç–∞—î –¥–∞–Ω—ñ
- POST /users —Å—Ç–≤–æ—Ä—é—î –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞
- GET /categories –ø—Ä–∞—Ü—é—î
- GET /properties –ø—Ä–∞—Ü—é—î
- GET /property-categories –ø—Ä–∞—Ü—é—î

‚úÖ **–¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è –∑ –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ –ü–ö:**

- curl –∞–±–æ Postman –∑–∞–ø–∏—Ç–∏ –ø—Ä–∞—Ü—é—é—Ç—å
- –í—ñ–¥–ø–æ–≤—ñ–¥—ñ –ø—Ä–∏—Ö–æ–¥—è—Ç—å —É JSON —Ñ–æ—Ä–º–∞—Ç—ñ

---

## üÜò –í–∏—Ä—ñ—à–µ–Ω–Ω—è –ø—Ä–æ–±–ª–µ–º

### –ü—Ä–æ–±–ª–µ–º–∞: "Application Error"

**–†—ñ—à–µ–Ω–Ω—è:**

1. –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ –ª–æ–≥–∏: `az webapp log tail`
2. –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ –∑–º—ñ–Ω–Ω—ñ —Å–µ—Ä–µ–¥–æ–≤–∏—â–∞ –≤ Configuration
3. –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ startup command

### –ü—Ä–æ–±–ª–µ–º–∞: "Can't connect to MySQL server"

**–†—ñ—à–µ–Ω–Ω—è:**

1. –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ firewall rules –≤ MySQL —Å–µ—Ä–≤–µ—Ä—ñ
2. –£–≤—ñ–º–∫–Ω—ñ—Ç—å "Allow Azure services"
3. –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ –ø—Ä–∞–≤–∏–ª—å–Ω—ñ—Å—Ç—å DB_HOST (–º–∞—î –±—É—Ç–∏ –ø–æ–≤–Ω–∏–π hostname)

### –ü—Ä–æ–±–ª–µ–º–∞: "Module not found"

**–†—ñ—à–µ–Ω–Ω—è:**

1. –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ requirements.txt
2. –ü–µ—Ä–µ–∫–æ–Ω–∞–π—Ç–µ—Å—è, —â–æ gunicorn –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–π
3. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç—ñ—Ç—å Web App

### –ü—Ä–æ–±–ª–µ–º–∞: Swagger –Ω–µ –≤—ñ–¥–æ–±—Ä–∞–∂–∞—î—Ç—å—Å—è

**–†—ñ—à–µ–Ω–Ω—è:**

1. –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ, —â–æ flasgger –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–π
2. –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ URL: `/api/docs/` (–∑ —Å–ª–µ—à–µ–º –≤ –∫—ñ–Ω—Ü—ñ)
3. –û—á–∏—Å—Ç—ñ—Ç—å –∫–µ—à –±—Ä–∞—É–∑–µ—Ä–∞

---

## üìö –ö–æ—Ä–∏—Å–Ω—ñ –ø–æ—Å–∏–ª–∞–Ω–Ω—è

- Azure Portal: https://portal.azure.com
- Azure CLI Documentation: https://docs.microsoft.com/cli/azure/
- Azure App Service Python: https://docs.microsoft.com/azure/app-service/quickstart-python
- Azure MySQL: https://docs.microsoft.com/azure/mysql/
- Flasgger Documentation: https://github.com/flasgger/flasgger
- Flask Documentation: https://flask.palletsprojects.com/

---

## üí∞ –í–∞—Ä—Ç—ñ—Å—Ç—å

**–î–ª—è —Å—Ç—É–¥–µ–Ω—Ç—ñ–≤:**

- Azure for Students: $100 –±–µ–∑–∫–æ—à—Ç–æ–≤–Ω–∏—Ö –∫—Ä–µ–¥–∏—Ç—ñ–≤ (–Ω–µ –ø–æ—Ç—Ä—ñ–±–Ω–∞ –∫—Ä–µ–¥–∏—Ç–Ω–∞ –∫–∞—Ä—Ç–∫–∞)
- –ë–µ–∑–∫–æ—à—Ç–æ–≤–Ω–∏–π –ø–ª–∞–Ω (F1) Web App
- –ë–∞–∑–æ–≤–∏–π –ø–ª–∞–Ω MySQL (–º–æ–∂–µ –±—É—Ç–∏ –ø–ª–∞—Ç–Ω–∏–º, –∞–ª–µ –¥—É–∂–µ –¥–µ—à–µ–≤–∏–π ~$15/–º—ñ—Å—è—Ü—å)

**–ü–æ—Ä–∞–¥–∞:** –ü—ñ—Å–ª—è –∑–¥–∞—á—ñ –ª–∞–±–æ—Ä–∞—Ç–æ—Ä–Ω–æ—ó –≤–∏–¥–∞–ª—ñ—Ç—å —Ä–µ—Å—É—Ä—Å–∏, —â–æ–± –Ω–µ –≤–∏—Ç—Ä–∞—á–∞—Ç–∏ –∫—Ä–µ–¥–∏—Ç–∏!

```bash
# –í–∏–¥–∞–ª–∏—Ç–∏ –≤—Å—é resource group (–æ–±–µ—Ä–µ–∂–Ω–æ!)
az group delete --name myapp-rg --yes
```

---

**–£—Å–ø—ñ—Ö—ñ–≤ –∑ –¥–µ–ø–ª–æ—î–º! üöÄ**
